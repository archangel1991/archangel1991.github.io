<!DOCTYPE html>
<html>
<head>
	<title>Test</title>
</head>
<body>
<h1>Hello World</h1>
<p>I'm hosted with GitHub Pages.</p>
<div id="video-container">
	<video id="video" referrerpolicy="no-referrer" class="botsflow-video" width="100%" height="auto" controls disablePictureInPicture controlslist="nodownload noplaybackrate" autoplay="autoplay" muted="muted" autoplay muted playsinline preload="auto">
        <source referrerpolicy="no-referrer" src="https://editor.sextingo.com/media-stream?mediaUrl=https://drive.google.com/uc?id=1XZluXcswcTG1or9WMQ2VuZUCC8UulhkC&type=video#t=0.5" type="video/mp4">
    </video>
</div>
    <script>
		function isIOS() {
			let userAgentData = navigator?.userAgent;
			if(userAgentData == undefined) {
				alert("userAgentData is undefined!");
				return false;
			}
			return [
			  'iPad Simulator',
			  'iPhone Simulator',
			  'iPod Simulator',
			  'iPad',
			  'iPhone',
			  'iPod'
			].includes(userAgentData.platform)
			// iPad on iOS 13 detection
			|| (window.navigator?.userAgent?.includes("Mac") && "ontouchend" in document)
		}
				document.getElementById("video").addEventListener('loadstart', (event) => {
            alert("video loadstart");
        });
		document.getElementById("video").addEventListener('loadedmetadata', (event) => {
            alert("video loadedmetadata");
        });
        document.getElementById("video").addEventListener('canplay', (event) => {
						alert("video canplay");
                            autoPlayVideo();
                            setTimeout(function() {
                                console.log("after timeout");
                            }, 0);
        });
		document.getElementById("video").addEventListener('canplaythrough', (event) => {
            alert("video canplaythrough");
        });
		document.getElementById("video").addEventListener('error', (event) => {
            alert("video error");
			if(event) {
				alert(JSON.stringify(event));
				alert(JSON.stringify(event, ["message", "arguments", "type", "name"]));
				alert(JSON.stringify(event, ["id", "reason", "error", "filename"]))
			}
        });
		document.getElementById("video").addEventListener('suspend', (event) => {
            alert("video suspend");
        });
		document.getElementById("video").addEventListener('ended', (event) => {
            alert("video ended");
        });
		
		document.getElementById("video").getElementsByTagName("source")[0].addEventListener('error', function(event) {
			alert("video error!");
			if(event) {
				alert(JSON.stringify(event));
			}
		})
		
		function autoPlayVideo() {
			let playPromise = document.getElementById("video").play();
			if (playPromise !== undefined) {
				playPromise.then(_ => {
				// Automatic playback started!
				alert("automatic playback started");
				}).catch(err => console.error(err));
			}
		}
		alert("Is IOS: " + isIOS());	
		alert(document.getElementById("video-container").innerHTML)
    </script>
</body>
</html>
